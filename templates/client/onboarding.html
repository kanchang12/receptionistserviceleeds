{% extends "dashboard_base.html" %}
{% block title %}Onboarding — VoiceBot{% endblock %}
{% block content %}
<div class="page-header">
    <h1>Set Up Your AI Receptionist</h1>
    <p>We'll call you and ask a few questions to configure your agent</p>
</div>

<div class="card">
    <div class="card-body" style="text-align:center;padding:56px 32px;">
        <div style="width:72px;height:72px;border-radius:50%;background:var(--accent-bg);border:2px solid var(--accent-border);display:flex;align-items:center;justify-content:center;margin:0 auto 24px;">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
        </div>

        <h2 style="font-family:var(--font-display);font-size:1.8rem;margin-bottom:12px;">How it works</h2>
        <p style="color:var(--text-secondary);max-width:480px;margin:0 auto 32px;line-height:1.7;">
            Click the button below and we'll call your registered phone number. Our AI interviewer will ask 8 short questions about your business — services, hours, greeting style, and more. Your answers are used to build a custom AI receptionist.
        </p>

        <div style="display:flex;gap:24px;justify-content:center;margin-bottom:32px;flex-wrap:wrap;">
            <div style="background:var(--bg-raised);border:1px solid var(--border);border-radius:var(--radius);padding:20px 24px;text-align:center;min-width:160px;">
                <div style="font-size:2rem;font-weight:700;color:var(--accent);">1</div>
                <div style="font-size:0.85rem;color:var(--text-secondary);margin-top:4px;">We call you</div>
            </div>
            <div style="background:var(--bg-raised);border:1px solid var(--border);border-radius:var(--radius);padding:20px 24px;text-align:center;min-width:160px;">
                <div style="font-size:2rem;font-weight:700;color:var(--accent);">2</div>
                <div style="font-size:0.85rem;color:var(--text-secondary);margin-top:4px;">Answer 8 questions</div>
            </div>
            <div style="background:var(--bg-raised);border:1px solid var(--border);border-radius:var(--radius);padding:20px 24px;text-align:center;min-width:160px;">
                <div style="font-size:2rem;font-weight:700;color:var(--accent);">3</div>
                <div style="font-size:0.85rem;color:var(--text-secondary);margin-top:4px;">AI agent goes live</div>
            </div>
        </div>

        {% if business.status == 'ready_for_review' %}
        <div class="flash flash-success" style="max-width:480px;margin:0 auto 24px;">
            Onboarding complete! Your configuration is under review. We'll activate your agent shortly.
        </div>
        {% elif business.status == 'onboarding' %}
        <div class="flash flash-info" style="max-width:480px;margin:0 auto 24px;">
            Onboarding in progress. If you missed the call, you can restart below.
        </div>
        {% endif %}

        <form method="POST" action="{{ url_for('client_start_onboarding') }}">
            <button type="submit" class="btn btn-primary" style="padding:14px 40px;font-size:1rem;">
                {% if business.status == 'onboarding' %}Restart Onboarding Call{% else %}Start Onboarding Call{% endif %}
            </button>
        </form>
    </div>
</div>
{% endblock %}
