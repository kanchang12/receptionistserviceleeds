{% extends "base.html" %}
{% block title %}Sign Up — VoiceBot{% endblock %}
{% block body_class %}auth-page{% endblock %}
{% block body %}
<div class="auth-card">
    <div class="auth-brand"><span class="brand-dot"></span> VoiceBot</div>
    <h2>Create your account</h2>
    <p class="subtitle">Set up your AI receptionist in minutes</p>

    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for cat, msg in messages %}
    <div class="flash flash-{{ cat }}">{{ msg }}</div>
    {% endfor %}
    {% endif %}
    {% endwith %}

    <form method="POST">
        <div class="form-group">
            <label class="form-label">Your Name</label>
            <input type="text" name="name" class="form-input" required placeholder="John Smith">
        </div>
        <div class="form-group">
            <label class="form-label">Email</label>
            <input type="email" name="email" class="form-input" required placeholder="you@company.com">
        </div>
        <div class="form-group">
            <label class="form-label">Phone (for onboarding call)</label>
            <input type="tel" name="phone" class="form-input" placeholder="+44 7700 900000">
        </div>
        <div class="form-group">
            <label class="form-label">Password</label>
            <input type="password" name="password" class="form-input" required placeholder="Min 8 characters" minlength="8">
        </div>
        <div class="form-group">
            <label class="form-label">Business Name</label>
            <input type="text" name="business_name" class="form-input" required placeholder="Acme Plumbing Ltd">
        </div>
        <div class="form-group">
            <label class="form-label">Business Type</label>
            <input type="text" name="business_type" class="form-input" required placeholder="e.g. Plumbing, Dental, Restaurant...">
        </div>
        <div class="form-group">
            <label class="form-label">Plan</label>
            <select name="tier" class="form-input" id="tierSelect" onchange="updateTierInfo()">
                <option value="standard" selected>Standard — £17/mo (120 min, Gemini AI)</option>
                <option value="prime">Prime — £79/mo (200 min, Premium Voice AI)</option>
                <option value="prime_pro">Prime Pro — £149/mo (500 min, Premium Voice AI)</option>
                <option value="prime_enterprise">Prime Enterprise — £249/mo (1200 min, Premium Voice AI)</option>
            </select>
            <div id="tierInfo" style="margin-top:6px;font-size:0.82rem;color:var(--text-muted);">AI-powered receptionist with call recording, transcription &amp; analytics.</div>
        </div>
        <button type="submit" class="btn btn-primary btn-block">Create Account</button>
    </form>
    <div class="auth-footer">
        Already have an account? <a href="{{ url_for('login') }}">Sign in</a>
    </div>
</div>
<script>
function updateTierInfo(){
    var t=document.getElementById('tierSelect').value, el=document.getElementById('tierInfo');
    var info={
        'standard':'AI-powered receptionist with call recording, transcription & analytics. Powered by Google Gemini.',
        'prime':'Premium voice AI with knowledge base, calendar integration & natural conversations.',
        'prime_pro':'Everything in Prime with higher volume and priority support.',
        'prime_enterprise':'Full-featured enterprise solution with dedicated support & custom integrations.'
    };
    el.innerHTML=info[t]||info['standard'];
}
</script>
{% endblock %}
